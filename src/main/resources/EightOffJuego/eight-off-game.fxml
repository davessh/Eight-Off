<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.effect.Glow?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.paint.LinearGradient?>
<?import javafx.scene.paint.Stop?>
<?import javafx.scene.text.Font?>

<VBox spacing="15.0" style="-fx-background: linear-gradient(to bottom, #0d3b1f, #1a472a);"
      xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="EightOffJuego.EightOffController">

    <padding>
        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
    </padding>

    <children>
        <!-- Header -->
        <HBox alignment="CENTER" spacing="30.0"
              style="-fx-background: linear-gradient(to bottom, #2d5016, #1a472a);
                     -fx-padding: 15;
                     -fx-background-radius: 10;
                     -fx-border-radius: 10;
                     -fx-border-color: #4a7c59;
                     -fx-border-width: 2;">
            <VBox.margin>
                <Insets left="20.0" right="20.0" top="10.0" />
            </VBox.margin>
            <children>
                <Label text="Eight Off Solitaire" style="-fx-font-weight: bold;">
                    <font>
                        <Font name="Arial Bold" size="32.0" />
                    </font>
                    <effect>
                        <DropShadow color="#000000" offsetX="2.0" offsetY="2.0" radius="4.0" />
                    </effect>
                    <textFill>
                        <LinearGradient endX="1.0" endY="1.0">
                            <stops>
                                <Stop>
                                    <color>
                                        <Color red="0.95" green="0.95" blue="0.70" />
                                    </color>
                                </Stop>
                                <Stop offset="1.0">
                                    <color>
                                        <Color red="0.85" green="0.75" blue="0.20" />
                                    </color>
                                </Stop>
                            </stops>
                        </LinearGradient>
                    </textFill>
                </Label>

                <Pane HBox.hgrow="ALWAYS" />

                <Button fx:id="btnPista" mnemonicParsing="false" onAction="#handlePista"
                        prefHeight="45.0" prefWidth="120.0"
                        style="-fx-background-color: linear-gradient(to bottom, #FF9800, #F57C00);
                               -fx-text-fill: white;
                               -fx-background-radius: 8;
                               -fx-font-weight: bold;
                               -fx-font-size: 14px;"
                        text="💡 Pista">
                    <effect>
                        <DropShadow color="#00000080" offsetX="2.0" offsetY="2.0" radius="3.0" />
                    </effect>
                </Button>

                <Button fx:id="btnUndo" mnemonicParsing="false" onAction="#handleUndo"
                        prefHeight="45.0" prefWidth="120.0"
                        style="-fx-background-color: linear-gradient(to bottom, #9C27B0, #7B1FA2);
                               -fx-text-fill: white;
                               -fx-background-radius: 8;
                               -fx-font-weight: bold;
                               -fx-font-size: 14px;"
                        text="↶ Deshacer">
                    <effect>
                        <DropShadow color="#00000080" offsetX="2.0" offsetY="2.0" radius="3.0" />
                    </effect>
                </Button>

                <Button fx:id="btnNuevoJuego" mnemonicParsing="false" onAction="#handleNuevoJuego"
                        prefHeight="45.0" prefWidth="140.0"
                        style="-fx-background-color: linear-gradient(to bottom, #4CAF50, #45a049);
                               -fx-text-fill: white;
                               -fx-background-radius: 8;
                               -fx-font-weight: bold;
                               -fx-font-size: 14px;"
                        text="🎮 Nuevo Juego">
                    <effect>
                        <DropShadow color="#00000080" offsetX="2.0" offsetY="2.0" radius="3.0" />
                    </effect>
                </Button>
            </children>
        </HBox>

        <!-- Área de Reservas (8 celdas) -->
        <VBox spacing="10.0">
            <VBox.margin>
                <Insets left="20.0" right="20.0" />
            </VBox.margin>
            <children>
                <Label text="Celdas de Reserva"
                       style="-fx-font-size: 16px; -fx-font-weight: bold;"
                       textFill="WHITE">
                    <effect>
                        <DropShadow color="#000000" offsetX="1.0" offsetY="1.0" radius="2.0" />
                    </effect>
                </Label>

                <HBox fx:id="reservasContainer" alignment="CENTER" spacing="12.0"
                      style="-fx-padding: 10;">
                    <!-- Las 8 celdas de reserva se crearán dinámicamente -->
                </HBox>
            </children>
        </VBox>

        <!-- Área de Foundations (4 pilas) -->
        <VBox spacing="10.0">
            <VBox.margin>
                <Insets left="20.0" right="20.0" />
            </VBox.margin>
            <children>
                <Label text="Fundaciones (Objetivo)"
                       style="-fx-font-size: 16px; -fx-font-weight: bold;"
                       textFill="WHITE">
                    <effect>
                        <DropShadow color="#000000" offsetX="1.0" offsetY="1.0" radius="2.0" />
                    </effect>
                </Label>

                <HBox fx:id="foundationsContainer" alignment="CENTER" spacing="15.0"
                      style="-fx-padding: 10;">
                    <!-- Las 4 foundations se crearán dinámicamente -->
                </HBox>
            </children>
        </VBox>

        <!-- Área de Tableaus (8 columnas) -->
        <VBox spacing="10.0" VBox.vgrow="ALWAYS">
            <VBox.margin>
                <Insets left="20.0" right="20.0" />
            </VBox.margin>
            <children>
                <Label text="Tableaus"
                       style="-fx-font-size: 16px; -fx-font-weight: bold;"
                       textFill="WHITE">
                    <effect>
                        <DropShadow color="#000000" offsetX="1.0" offsetY="1.0" radius="2.0" />
                    </effect>
                </Label>

                <HBox fx:id="tableausContainer" alignment="TOP_CENTER" spacing="8.0"
                      style="-fx-padding: 10;" VBox.vgrow="ALWAYS">
                    <!-- Los 8 tableaus se crearán dinámicamente -->
                </HBox>
            </children>
        </VBox>

        <!-- Footer con estado -->
        <HBox alignment="CENTER" spacing="40.0"
              style="-fx-background: linear-gradient(to bottom, #2d5016, #1a472a);
                     -fx-padding: 15;
                     -fx-background-radius: 10;
                     -fx-border-radius: 10;
                     -fx-border-color: #4a7c59;
                     -fx-border-width: 2;">
            <VBox.margin>
                <Insets bottom="10.0" left="20.0" right="20.0" />
            </VBox.margin>
            <children>
                <Label fx:id="lblEstado"
                       style="-fx-font-size: 16px; -fx-font-weight: bold;"
                       text="Presiona 'Nuevo Juego' para comenzar"
                       textFill="#FFD700">
                    <effect>
                        <Glow level="0.3" />
                    </effect>
                </Label>

                <Label fx:id="lblMovimientos"
                       style="-fx-font-size: 16px; -fx-font-weight: bold;"
                       text="Movimientos: 0"
                       textFill="#90EE90">
                    <effect>
                        <Glow level="0.2" />
                    </effect>
                </Label>
            </children>
        </HBox>
    </children>
</VBox>